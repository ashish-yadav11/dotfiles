## PARAMETERS (man zshparam)

PS1='%167F[%11F%n%10F@%12F%M%139F %1~%167F]%f$ '


## MISCELLANEOUS (man zshmisc)

# title, st newterm and termite tabbing
function settitle {
    print -Pn "\e]0;%n@%M:%~\e\\"
}
function savepwd {
    print -Pn "\e]7;%d\e\\"
}
case $TERM in
    st*)
        [[ -n $NEWTERM_PWD ]] && { cd "$NEWTERM_PWD"; unset NEWTERM_PWD ;}
        savepwd
        settitle
        chpwd_functions+=(savepwd settitle)
        ;;
    *termite*)
        chpwd_functions+=(settitle)
        source /etc/profile.d/vte.sh
        ;;
    alacritty*)
        settitle
        chpwd_functions+=(settitle)
        ;;
esac

# restore block cursor before running external commands
function preexec {
    echo -ne "$defcursor"
}


## ZLE (man zshzle)

defcursor="\e[2 q"
cmdcursor="\e[2 q"
inscursor="\e[6 q"
repcursor="\e[4 q"

# insert key
bindkey -v "\e[2~" overwrite-mode
bindkey -a "\e[2~" vi-insert

# delete key
bindkey -v "\e[3~" delete-char
bindkey -a "\e[3~" delete-char

# home key
bindkey -v "\e[H" beginning-of-line
bindkey -a "\e[H" beginning-of-line

# pgup key
bindkey -v "\e[5~" history-search-backward
bindkey -a "\e[5~" history-search-backward

# pgdn key
bindkey -v "\e[6~" history-search-forward
bindkey -a "\e[6~" history-search-forward

# end key
bindkey -v "\e[F" end-of-line
bindkey -a "\e[F" end-of-line
